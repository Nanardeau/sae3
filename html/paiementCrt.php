<?php

#Modification de l'adresse
session_start();
require_once __DIR__ . '/_env.php';

loadEnv(__DIR__ . '/.env');

$host = getenv('PGHOST');
$port = getenv('PGPORT');
$dbname = getenv('PGDATABASE');
$user = getenv('PGUSER');
$password = getenv('PGPASSWORD');

try {
    $dsn = "pgsql:host=$host;port=$port;dbname=$dbname;";
    $bdd = new PDO($dsn, $user, $password, [
        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION
    ]);
} catch (PDOException $e) {
    echo "Erreur de connexion : " . $e->getMessage();
}
$bdd->query("SET SCHEMA 'alizon'");
$codeCompte = $_SESSION["codeCompte"];
    $numRue = $_POST["numRue"];
    $nomRue = $_POST["nomRue"];
    $codePostal = $_POST["codePostal"];
    $nomVille = $_POST["ville"];
    $numApt = isset($_POST["numApt"]) ? $_POST["numApt"] : "";
    $complement = isset($_POST["comp"]) ? $_POST["comp"] : ""; 
    $stmt = $bdd->prepare("INSERT INTO alizon.Adresse (num, nomRue, codePostal, nomVille, numAppart, complementAdresse) VALUES (:num, :nomRue, :codePostal, :nomVille, :numAppart, :complementAdresse)");
    $stmt->execute(array(
        ":num" => $numRue,
        ":nomRue" => $nomRue,
        ":codePostal" => $codePostal,
        ":nomVille" => $nomVille,
        ":numAppart" => $numApt,
        ":complementAdresse" => $complement
    ));
    $idAdresse = $bdd->lastInsertId();
    $_SESSION["idAdresse"] = $idAdresse;
    $_SESSION["adrModif"] = 1;



//À DÉCOMMENTER
$idPanier = 1;
// $stmt = $bdd->prepare("INSERT INTO alizon.Adresse (num, nomRue, codePostal, nomVille, numAppart, complementAdresse) VALUES (:num, :nomRue, :codePostal, :nomVille, :numAppart, :complementAdresse)");
// $stmt->execute(array(
//     ":num" => $numRue,
//     ":nomRue" => $nomRue,
//     ":codePostal" => $codePostal,
//     ":nomVille" => $nomVille,
//     ":numAppart" => $numApt,
//     ":complementAdresse" => $complement
// ));
// $idAdresse = $bdd->lastInsertId();
// $_SESSION["idAdresse"] = $idAdresse;
$panier = $bdd->query("SELECT * FROM alizon.Panier WHERE codeCompte = '".$codeCompte."'")->fetch();
$idPanier = $panier["idpanier"];
// $produits = $bdd->query("SELECT ALL * FROM alizon.ProdUnitPanier WHERE idPanier = '".$idPanier."'")->fetchAll();
?>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations bancaires</title>
    <link href="./css/style/paiement.css" rel="stylesheet" type="text/css">
    <link href="./css/components/fonts.css" rel="stylesheet" type="text/css">
</head>
<body>
    <?php
    $idUser =  $_SESSION["codeCompte"];
    include 'includes/headerCon.php' ;
    ?>
        <div id="confirmation">
            <article>
                <h1>Vous allez payer <?php echo $panier["prixttctotal"]?> €, confirmer le paiement ?</h1>
                <nav>
                    <button class="bouton" onclick="annulerConf()" value="annuler">Annuler</button>
                    <button class="bouton" onclick="confirmer()" value="confirmer">Confirmer</button>
                </nav>
            </article>
        </div>
    <main id="mainCrt">
        <div class="ariane" id="navTablette">
            <a class="arianeItem" href="panier.php">
                <svg width="358" height="80" viewBox="0 0 358 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2882_8044)">
                <path d="M302.544 0H4L48.4672 35.5L4 72H302.544L354 35.5L302.544 0Z" fill="#D9D9D9"/>
                </g>
                <path d="M130.496 48V25.44H140.512C142.987 25.44 144.875 26.0373 146.176 27.232C147.477 28.4267 148.128 30.0693 148.128 32.16C148.128 34.2293 147.477 35.872 146.176 37.088C144.875 38.304 142.987 38.912 140.512 38.912H134.624V48H130.496ZM134.624 35.648H140.032C141.397 35.648 142.421 35.3493 143.104 34.752C143.787 34.1333 144.128 33.2693 144.128 32.16C144.128 31.0507 143.787 30.1973 143.104 29.6C142.421 28.9813 141.397 28.672 140.032 28.672H134.624V35.648ZM156.979 48.32C155.571 48.32 154.333 47.9893 153.266 47.328C152.2 46.6453 151.368 45.6747 150.771 44.416C150.173 43.1573 149.875 41.6533 149.875 39.904C149.875 38.1547 150.173 36.6613 150.771 35.424C151.368 34.1653 152.2 33.2053 153.266 32.544C154.333 31.8613 155.571 31.52 156.979 31.52C158.344 31.52 159.539 31.8613 160.563 32.544C161.608 33.2053 162.301 34.1013 162.643 35.232H162.291L162.643 31.84H166.483C166.419 32.5013 166.355 33.1733 166.291 33.856C166.248 34.5387 166.227 35.2107 166.227 35.872V48H162.259L162.227 44.672H162.611C162.269 45.7813 161.576 46.6667 160.531 47.328C159.485 47.9893 158.301 48.32 156.979 48.32ZM158.099 45.248C159.357 45.248 160.371 44.8107 161.139 43.936C161.907 43.04 162.291 41.696 162.291 39.904C162.291 38.112 161.907 36.7787 161.139 35.904C160.371 35.0293 159.357 34.592 158.099 34.592C156.84 34.592 155.827 35.0293 155.059 35.904C154.291 36.7787 153.907 38.112 153.907 39.904C153.907 41.696 154.28 43.04 155.027 43.936C155.795 44.8107 156.819 45.248 158.099 45.248ZM170.582 48V35.872C170.582 35.2107 170.561 34.5387 170.518 33.856C170.476 33.1733 170.412 32.5013 170.326 31.84H174.198L174.518 35.04H174.134C174.646 33.9093 175.404 33.0453 176.406 32.448C177.409 31.8293 178.572 31.52 179.894 31.52C181.793 31.52 183.222 32.0533 184.182 33.12C185.142 34.1867 185.622 35.8507 185.622 38.112V48H181.622V38.304C181.622 37.0027 181.366 36.0747 180.854 35.52C180.364 34.944 179.617 34.656 178.614 34.656C177.377 34.656 176.396 35.04 175.67 35.808C174.945 36.576 174.582 37.6 174.582 38.88V48H170.582ZM189.864 48V31.84H193.864V48H189.864ZM189.64 28.8V24.896H194.088V28.8H189.64ZM206.015 48.32C203.306 48.32 201.183 47.5733 199.647 46.08C198.111 44.5867 197.343 42.5387 197.343 39.936C197.343 38.2507 197.674 36.7787 198.335 35.52C198.997 34.2613 199.914 33.28 201.087 32.576C202.282 31.872 203.669 31.52 205.247 31.52C206.805 31.52 208.106 31.8507 209.151 32.512C210.197 33.1733 210.986 34.1013 211.519 35.296C212.074 36.4907 212.351 37.888 212.351 39.488V40.544H200.575V38.432H209.503L208.959 38.88C208.959 37.3867 208.639 36.2453 207.999 35.456C207.381 34.6667 206.474 34.272 205.279 34.272C203.957 34.272 202.933 34.7413 202.207 35.68C201.503 36.6187 201.151 37.9307 201.151 39.616V40.032C201.151 41.7813 201.578 43.0933 202.431 43.968C203.306 44.8213 204.533 45.248 206.111 45.248C207.029 45.248 207.882 45.1307 208.671 44.896C209.482 44.64 210.25 44.2347 210.975 43.68L212.159 46.368C211.391 46.9867 210.474 47.4667 209.407 47.808C208.341 48.1493 207.21 48.32 206.015 48.32ZM215.707 48V35.968C215.707 35.2853 215.685 34.592 215.643 33.888C215.621 33.184 215.568 32.5013 215.483 31.84H219.355L219.803 36.256H219.163C219.376 35.1893 219.728 34.304 220.219 33.6C220.731 32.896 221.349 32.3733 222.075 32.032C222.8 31.6907 223.589 31.52 224.443 31.52C224.827 31.52 225.136 31.5413 225.371 31.584C225.605 31.6053 225.84 31.6587 226.075 31.744L226.043 35.264C225.637 35.0933 225.285 34.9867 224.987 34.944C224.709 34.9013 224.357 34.88 223.931 34.88C223.013 34.88 222.235 35.072 221.595 35.456C220.976 35.84 220.507 36.3733 220.187 37.056C219.888 37.7387 219.739 38.5173 219.739 39.392V48H215.707Z" fill="#787878"/>
                <defs>
                <filter id="filter0_d_2882_8044" x="0" y="0" width="358" height="80" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2882_8044"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2882_8044" result="shape"/>
                </filter>
                </defs>
                </svg>
            </a>
            <a class="arianeItem" href="paiementAdr.php">
                <svg width="358" height="80" viewBox="0 0 358 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2891_8083)">
                <path d="M302.544 0H4L48.4672 35.5L4 72H302.544L354 35.5L302.544 0Z" fill="#D9D9D9"/>
                </g>
                <path d="M115 49L125.208 26.44H128.664L139 49H134.808L132.056 42.664L133.72 43.784H120.184L121.912 42.664L119.16 49H115ZM126.904 30.856L122.392 41.544L121.56 40.552H132.312L131.64 41.544L127.032 30.856H126.904ZM147.292 49.32C145.884 49.32 144.636 48.9893 143.548 48.328C142.481 47.6453 141.649 46.6747 141.052 45.416C140.454 44.1573 140.156 42.6533 140.156 40.904C140.156 39.1547 140.454 37.6613 141.052 36.424C141.649 35.1653 142.481 34.2053 143.548 33.544C144.636 32.8613 145.884 32.52 147.292 32.52C148.636 32.52 149.82 32.8507 150.844 33.512C151.889 34.152 152.582 35.0267 152.924 36.136H152.508V25.448H156.508V49H152.572V45.576H152.956C152.614 46.728 151.921 47.6453 150.876 48.328C149.852 48.9893 148.657 49.32 147.292 49.32ZM148.412 46.248C149.67 46.248 150.684 45.8107 151.452 44.936C152.22 44.04 152.604 42.696 152.604 40.904C152.604 39.112 152.22 37.7787 151.452 36.904C150.684 36.0293 149.67 35.592 148.412 35.592C147.153 35.592 146.129 36.0293 145.34 36.904C144.572 37.7787 144.188 39.112 144.188 40.904C144.188 42.696 144.572 44.04 145.34 44.936C146.129 45.8107 147.153 46.248 148.412 46.248ZM160.832 49V36.968C160.832 36.2853 160.81 35.592 160.768 34.888C160.746 34.184 160.693 33.5013 160.608 32.84H164.48L164.928 37.256H164.288C164.501 36.1893 164.853 35.304 165.344 34.6C165.856 33.896 166.474 33.3733 167.2 33.032C167.925 32.6907 168.714 32.52 169.568 32.52C169.952 32.52 170.261 32.5413 170.496 32.584C170.73 32.6053 170.965 32.6587 171.2 32.744L171.168 36.264C170.762 36.0933 170.41 35.9867 170.112 35.944C169.834 35.9013 169.482 35.88 169.056 35.88C168.138 35.88 167.36 36.072 166.72 36.456C166.101 36.84 165.632 37.3733 165.312 38.056C165.013 38.7387 164.864 39.5173 164.864 40.392V49H160.832ZM180.984 49.32C178.275 49.32 176.152 48.5733 174.616 47.08C173.08 45.5867 172.312 43.5387 172.312 40.936C172.312 39.2507 172.643 37.7787 173.304 36.52C173.965 35.2613 174.883 34.28 176.056 33.576C177.251 32.872 178.637 32.52 180.216 32.52C181.773 32.52 183.075 32.8507 184.12 33.512C185.165 34.1733 185.955 35.1013 186.488 36.296C187.043 37.4907 187.32 38.888 187.32 40.488V41.544H175.544V39.432H184.472L183.928 39.88C183.928 38.3867 183.608 37.2453 182.968 36.456C182.349 35.6667 181.443 35.272 180.248 35.272C178.925 35.272 177.901 35.7413 177.176 36.68C176.472 37.6187 176.12 38.9307 176.12 40.616V41.032C176.12 42.7813 176.547 44.0933 177.4 44.968C178.275 45.8213 179.501 46.248 181.08 46.248C181.997 46.248 182.851 46.1307 183.64 45.896C184.451 45.64 185.219 45.2347 185.944 44.68L187.128 47.368C186.36 47.9867 185.443 48.4667 184.376 48.808C183.309 49.1493 182.179 49.32 180.984 49.32ZM196.467 49.32C195.081 49.32 193.801 49.16 192.627 48.84C191.475 48.4987 190.505 48.0293 189.715 47.432L190.835 44.744C191.646 45.2987 192.542 45.7253 193.523 46.024C194.505 46.3227 195.497 46.472 196.499 46.472C197.566 46.472 198.355 46.2907 198.867 45.928C199.401 45.5653 199.667 45.0747 199.667 44.456C199.667 43.9653 199.497 43.5813 199.155 43.304C198.835 43.0053 198.313 42.7813 197.587 42.632L194.387 42.024C193.022 41.7253 191.977 41.2133 191.251 40.488C190.547 39.7627 190.195 38.8133 190.195 37.64C190.195 36.6373 190.462 35.752 190.995 34.984C191.55 34.216 192.329 33.6187 193.331 33.192C194.355 32.744 195.55 32.52 196.915 32.52C198.11 32.52 199.23 32.68 200.275 33C201.342 33.32 202.238 33.8 202.963 34.44L201.811 37.032C201.15 36.4987 200.393 36.0827 199.539 35.784C198.686 35.4853 197.854 35.336 197.043 35.336C195.934 35.336 195.123 35.5387 194.611 35.944C194.099 36.328 193.843 36.8293 193.843 37.448C193.843 37.9173 193.993 38.312 194.291 38.632C194.611 38.9307 195.102 39.1547 195.763 39.304L198.963 39.912C200.393 40.1893 201.47 40.68 202.195 41.384C202.942 42.0667 203.315 43.0053 203.315 44.2C203.315 45.2667 203.027 46.184 202.451 46.952C201.875 47.72 201.075 48.3067 200.051 48.712C199.027 49.1173 197.833 49.32 196.467 49.32ZM212.499 49.32C211.112 49.32 209.832 49.16 208.659 48.84C207.507 48.4987 206.536 48.0293 205.747 47.432L206.867 44.744C207.677 45.2987 208.573 45.7253 209.555 46.024C210.536 46.3227 211.528 46.472 212.531 46.472C213.597 46.472 214.387 46.2907 214.899 45.928C215.432 45.5653 215.699 45.0747 215.699 44.456C215.699 43.9653 215.528 43.5813 215.187 43.304C214.867 43.0053 214.344 42.7813 213.619 42.632L210.419 42.024C209.053 41.7253 208.008 41.2133 207.283 40.488C206.579 39.7627 206.227 38.8133 206.227 37.64C206.227 36.6373 206.493 35.752 207.027 34.984C207.581 34.216 208.36 33.6187 209.363 33.192C210.387 32.744 211.581 32.52 212.947 32.52C214.141 32.52 215.261 32.68 216.307 33C217.373 33.32 218.269 33.8 218.995 34.44L217.843 37.032C217.181 36.4987 216.424 36.0827 215.571 35.784C214.717 35.4853 213.885 35.336 213.075 35.336C211.965 35.336 211.155 35.5387 210.643 35.944C210.131 36.328 209.875 36.8293 209.875 37.448C209.875 37.9173 210.024 38.312 210.323 38.632C210.643 38.9307 211.133 39.1547 211.795 39.304L214.995 39.912C216.424 40.1893 217.501 40.68 218.227 41.384C218.973 42.0667 219.347 43.0053 219.347 44.2C219.347 45.2667 219.059 46.184 218.483 46.952C217.907 47.72 217.107 48.3067 216.083 48.712C215.059 49.1173 213.864 49.32 212.499 49.32ZM230.578 49.32C227.868 49.32 225.746 48.5733 224.21 47.08C222.674 45.5867 221.906 43.5387 221.906 40.936C221.906 39.2507 222.236 37.7787 222.898 36.52C223.559 35.2613 224.476 34.28 225.65 33.576C226.844 32.872 228.231 32.52 229.81 32.52C231.367 32.52 232.668 32.8507 233.714 33.512C234.759 34.1733 235.548 35.1013 236.082 36.296C236.636 37.4907 236.914 38.888 236.914 40.488V41.544H225.138V39.432H234.066L233.522 39.88C233.522 38.3867 233.202 37.2453 232.562 36.456C231.943 35.6667 231.036 35.272 229.842 35.272C228.519 35.272 227.495 35.7413 226.77 36.68C226.066 37.6187 225.714 38.9307 225.714 40.616V41.032C225.714 42.7813 226.14 44.0933 226.994 44.968C227.868 45.8213 229.095 46.248 230.674 46.248C231.591 46.248 232.444 46.1307 233.234 45.896C234.044 45.64 234.812 45.2347 235.538 44.68L236.722 47.368C235.954 47.9867 235.036 48.4667 233.97 48.808C232.903 49.1493 231.772 49.32 230.578 49.32Z" fill="#787878"/>
                <defs>
                <filter id="filter0_d_2891_8083" x="0" y="0" width="358" height="80" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2891_8083"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2891_8083" result="shape"/>
                </filter>
                </defs>
                </svg>
            </a>
            <a class="arianeItem" href="">
                <svg width="358" height="80" viewBox="0 0 358 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2891_8079)">
                <path d="M302.544 0H4L48.4672 35.5L4 72H302.544L354 35.5L302.544 0Z" fill="#FCB66B"/>
                </g>
                <path d="M107.496 50V27.44H117.512C119.987 27.44 121.875 28.0373 123.176 29.232C124.477 30.4267 125.128 32.0693 125.128 34.16C125.128 36.2293 124.477 37.872 123.176 39.088C121.875 40.304 119.987 40.912 117.512 40.912H111.624V50H107.496ZM111.624 37.648H117.032C118.397 37.648 119.421 37.3493 120.104 36.752C120.787 36.1333 121.128 35.2693 121.128 34.16C121.128 33.0507 120.787 32.1973 120.104 31.6C119.421 30.9813 118.397 30.672 117.032 30.672H111.624V37.648ZM133.979 50.32C132.571 50.32 131.333 49.9893 130.266 49.328C129.2 48.6453 128.368 47.6747 127.771 46.416C127.173 45.1573 126.875 43.6533 126.875 41.904C126.875 40.1547 127.173 38.6613 127.771 37.424C128.368 36.1653 129.2 35.2053 130.266 34.544C131.333 33.8613 132.571 33.52 133.979 33.52C135.344 33.52 136.539 33.8613 137.563 34.544C138.608 35.2053 139.301 36.1013 139.643 37.232H139.291L139.643 33.84H143.483C143.419 34.5013 143.355 35.1733 143.291 35.856C143.248 36.5387 143.227 37.2107 143.227 37.872V50H139.259L139.227 46.672H139.611C139.269 47.7813 138.576 48.6667 137.531 49.328C136.485 49.9893 135.301 50.32 133.979 50.32ZM135.099 47.248C136.357 47.248 137.371 46.8107 138.139 45.936C138.907 45.04 139.291 43.696 139.291 41.904C139.291 40.112 138.907 38.7787 138.139 37.904C137.371 37.0293 136.357 36.592 135.099 36.592C133.84 36.592 132.827 37.0293 132.059 37.904C131.291 38.7787 130.907 40.112 130.907 41.904C130.907 43.696 131.28 45.04 132.027 45.936C132.795 46.8107 133.819 47.248 135.099 47.248ZM147.582 50V33.84H151.582V50H147.582ZM147.358 30.8V26.896H151.806V30.8H147.358ZM163.734 50.32C161.025 50.32 158.902 49.5733 157.366 48.08C155.83 46.5867 155.062 44.5387 155.062 41.936C155.062 40.2507 155.393 38.7787 156.054 37.52C156.715 36.2613 157.633 35.28 158.806 34.576C160.001 33.872 161.387 33.52 162.966 33.52C164.523 33.52 165.825 33.8507 166.87 34.512C167.915 35.1733 168.705 36.1013 169.238 37.296C169.793 38.4907 170.07 39.888 170.07 41.488V42.544H158.294V40.432H167.222L166.678 40.88C166.678 39.3867 166.358 38.2453 165.718 37.456C165.099 36.6667 164.193 36.272 162.998 36.272C161.675 36.272 160.651 36.7413 159.926 37.68C159.222 38.6187 158.87 39.9307 158.87 41.616V42.032C158.87 43.7813 159.297 45.0933 160.15 45.968C161.025 46.8213 162.251 47.248 163.83 47.248C164.747 47.248 165.601 47.1307 166.39 46.896C167.201 46.64 167.969 46.2347 168.694 45.68L169.878 48.368C169.11 48.9867 168.193 49.4667 167.126 49.808C166.059 50.1493 164.929 50.32 163.734 50.32ZM173.457 50V37.872C173.457 37.2107 173.436 36.5387 173.393 35.856C173.351 35.1733 173.287 34.5013 173.201 33.84H177.073L177.393 37.04H177.009C177.457 35.9307 178.14 35.0667 179.057 34.448C179.996 33.8293 181.105 33.52 182.385 33.52C183.665 33.52 184.721 33.8293 185.553 34.448C186.407 35.0453 187.004 35.984 187.345 37.264H186.833C187.281 36.112 188.017 35.2053 189.041 34.544C190.065 33.8613 191.239 33.52 192.561 33.52C194.375 33.52 195.729 34.0533 196.625 35.12C197.521 36.1867 197.969 37.8507 197.969 40.112V50H193.969V40.272C193.969 38.992 193.756 38.0747 193.329 37.52C192.903 36.944 192.22 36.656 191.281 36.656C190.172 36.656 189.297 37.0507 188.657 37.84C188.017 38.608 187.697 39.6533 187.697 40.976V50H183.697V40.272C183.697 38.992 183.484 38.0747 183.057 37.52C182.631 36.944 181.948 36.656 181.009 36.656C179.9 36.656 179.025 37.0507 178.385 37.84C177.767 38.608 177.457 39.6533 177.457 40.976V50H173.457ZM210.047 50.32C207.337 50.32 205.215 49.5733 203.679 48.08C202.143 46.5867 201.375 44.5387 201.375 41.936C201.375 40.2507 201.705 38.7787 202.367 37.52C203.028 36.2613 203.945 35.28 205.119 34.576C206.313 33.872 207.7 33.52 209.279 33.52C210.836 33.52 212.137 33.8507 213.183 34.512C214.228 35.1733 215.017 36.1013 215.551 37.296C216.105 38.4907 216.383 39.888 216.383 41.488V42.544H204.607V40.432H213.535L212.991 40.88C212.991 39.3867 212.671 38.2453 212.031 37.456C211.412 36.6667 210.505 36.272 209.311 36.272C207.988 36.272 206.964 36.7413 206.239 37.68C205.535 38.6187 205.183 39.9307 205.183 41.616V42.032C205.183 43.7813 205.609 45.0933 206.463 45.968C207.337 46.8213 208.564 47.248 210.143 47.248C211.06 47.248 211.913 47.1307 212.703 46.896C213.513 46.64 214.281 46.2347 215.007 45.68L216.191 48.368C215.423 48.9867 214.505 49.4667 213.439 49.808C212.372 50.1493 211.241 50.32 210.047 50.32ZM219.77 50V37.872C219.77 37.2107 219.748 36.5387 219.706 35.856C219.663 35.1733 219.599 34.5013 219.514 33.84H223.386L223.706 37.04H223.322C223.834 35.9093 224.591 35.0453 225.594 34.448C226.596 33.8293 227.759 33.52 229.082 33.52C230.98 33.52 232.41 34.0533 233.37 35.12C234.33 36.1867 234.81 37.8507 234.81 40.112V50H230.81V40.304C230.81 39.0027 230.554 38.0747 230.042 37.52C229.551 36.944 228.804 36.656 227.802 36.656C226.564 36.656 225.583 37.04 224.858 37.808C224.132 38.576 223.77 39.6 223.77 40.88V50H219.77ZM245.963 50.32C244.043 50.32 242.592 49.8187 241.611 48.816C240.63 47.8133 240.139 46.3093 240.139 44.304V36.848H237.035V33.84H240.139V29.712L244.139 28.688V33.84H248.459V36.848H244.139V44.048C244.139 45.1573 244.352 45.936 244.779 46.384C245.206 46.832 245.792 47.056 246.539 47.056C246.944 47.056 247.286 47.024 247.563 46.96C247.862 46.896 248.15 46.8107 248.427 46.704V49.872C248.064 50.0213 247.659 50.128 247.211 50.192C246.784 50.2773 246.368 50.32 245.963 50.32Z" fill="#064082"/>
                <defs>
                <filter id="filter0_d_2891_8079" x="0" y="0" width="358" height="80" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2891_8079"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2891_8079" result="shape"/>
                </filter>
                </defs>
                </svg>
            </a>
        </div>
        <div class="ariane" id="navMobile">
            <a class="arianeItem" href="panier.php">
                <svg width="128" height="58" viewBox="0 0 128 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2903_8087)">
                <path d="M106.358 0H4L19.2459 24.6528L4 50H106.358L124 24.6528L106.358 0Z" fill="#D9D9D9"/>
                </g>
                <path d="M43.092 29.353V19.483H47.474C48.5567 19.483 49.3827 19.7444 49.952 20.267C50.5213 20.7897 50.806 21.5084 50.806 22.423C50.806 23.3284 50.5213 24.047 49.952 24.579C49.3827 25.111 48.5567 25.377 47.474 25.377H44.898V29.353H43.092ZM44.898 23.949H47.264C47.8613 23.949 48.3093 23.8184 48.608 23.557C48.9067 23.2864 49.056 22.9084 49.056 22.423C49.056 21.9377 48.9067 21.5644 48.608 21.303C48.3093 21.0324 47.8613 20.897 47.264 20.897H44.898V23.949ZM54.6781 29.493C54.0621 29.493 53.5208 29.3484 53.0541 29.059C52.5874 28.7604 52.2234 28.3357 51.9621 27.785C51.7008 27.2344 51.5701 26.5764 51.5701 25.811C51.5701 25.0457 51.7008 24.3924 51.9621 23.851C52.2234 23.3004 52.5874 22.8804 53.0541 22.591C53.5208 22.2924 54.0621 22.143 54.6781 22.143C55.2754 22.143 55.7981 22.2924 56.2461 22.591C56.7034 22.8804 57.0068 23.2724 57.1561 23.767H57.0021L57.1561 22.283H58.8361C58.8081 22.5724 58.7801 22.8664 58.7521 23.165C58.7334 23.4637 58.7241 23.7577 58.7241 24.047V29.353H56.9881L56.9741 27.897H57.1421C56.9928 28.3824 56.6894 28.7697 56.2321 29.059C55.7748 29.3484 55.2568 29.493 54.6781 29.493ZM55.1681 28.149C55.7188 28.149 56.1621 27.9577 56.4981 27.575C56.8341 27.183 57.0021 26.595 57.0021 25.811C57.0021 25.027 56.8341 24.4437 56.4981 24.061C56.1621 23.6784 55.7188 23.487 55.1681 23.487C54.6174 23.487 54.1741 23.6784 53.8381 24.061C53.5021 24.4437 53.3341 25.027 53.3341 25.811C53.3341 26.595 53.4974 27.183 53.8241 27.575C54.1601 27.9577 54.6081 28.149 55.1681 28.149ZM60.6297 29.353V24.047C60.6297 23.7577 60.6204 23.4637 60.6017 23.165C60.5831 22.8664 60.5551 22.5724 60.5177 22.283H62.2117L62.3517 23.683H62.1837C62.4077 23.1884 62.7391 22.8104 63.1777 22.549C63.6164 22.2784 64.1251 22.143 64.7037 22.143C65.5344 22.143 66.1597 22.3764 66.5797 22.843C66.9997 23.3097 67.2097 24.0377 67.2097 25.027V29.353H65.4597V25.111C65.4597 24.5417 65.3477 24.1357 65.1237 23.893C64.9091 23.641 64.5824 23.515 64.1437 23.515C63.6024 23.515 63.1731 23.683 62.8557 24.019C62.5384 24.355 62.3797 24.803 62.3797 25.363V29.353H60.6297ZM69.0653 29.353V22.283H70.8153V29.353H69.0653ZM68.9673 20.953V19.245H70.9133V20.953H68.9673ZM76.1317 29.493C74.9463 29.493 74.0177 29.1664 73.3457 28.513C72.6737 27.8597 72.3377 26.9637 72.3377 25.825C72.3377 25.0877 72.4823 24.4437 72.7717 23.893C73.061 23.3424 73.4623 22.913 73.9757 22.605C74.4983 22.297 75.105 22.143 75.7957 22.143C76.477 22.143 77.0463 22.2877 77.5037 22.577C77.961 22.8664 78.3063 23.2724 78.5397 23.795C78.7823 24.3177 78.9037 24.929 78.9037 25.629V26.091H73.7517V25.167H77.6577L77.4197 25.363C77.4197 24.7097 77.2797 24.2104 76.9997 23.865C76.729 23.5197 76.3323 23.347 75.8097 23.347C75.231 23.347 74.783 23.5524 74.4657 23.963C74.1577 24.3737 74.0037 24.9477 74.0037 25.685V25.867C74.0037 26.6324 74.1903 27.2064 74.5637 27.589C74.9463 27.9624 75.483 28.149 76.1737 28.149C76.575 28.149 76.9483 28.0977 77.2937 27.995C77.6483 27.883 77.9843 27.7057 78.3017 27.463L78.8197 28.639C78.4837 28.9097 78.0823 29.1197 77.6157 29.269C77.149 29.4184 76.6543 29.493 76.1317 29.493ZM80.3716 29.353V24.089C80.3716 23.7904 80.3623 23.487 80.3436 23.179C80.3343 22.871 80.3109 22.5724 80.2736 22.283H81.9676L82.1636 24.215H81.8836C81.9769 23.7484 82.1309 23.361 82.3456 23.053C82.5696 22.745 82.8403 22.5164 83.1576 22.367C83.4749 22.2177 83.8203 22.143 84.1936 22.143C84.3616 22.143 84.4969 22.1524 84.5996 22.171C84.7023 22.1804 84.8049 22.2037 84.9076 22.241L84.8936 23.781C84.7163 23.7064 84.5623 23.6597 84.4316 23.641C84.3103 23.6224 84.1563 23.613 83.9696 23.613C83.5683 23.613 83.2276 23.697 82.9476 23.865C82.6769 24.033 82.4716 24.2664 82.3316 24.565C82.2009 24.8637 82.1356 25.2044 82.1356 25.587V29.353H80.3716Z" fill="#787878"/>
                <defs>
                <filter id="filter0_d_2903_8087" x="0" y="0" width="128" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2903_8087"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2903_8087" result="shape"/>
                </filter>
                </defs>
                </svg> 
            
            </a><a class="arianeItem" href="paiementAdr.php">
                <svg width="128" height="58" viewBox="0 0 128 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2903_8093)">
                <path d="M106.358 0H4L19.2459 24.6528L4 50H106.358L124 24.6528L106.358 0Z" fill="#D9D9D9"/>
                </g>
                <path d="M36.6543 29.4761L41.1203 19.6061H42.6323L47.1543 29.4761H45.3203L44.1163 26.7041L44.8443 27.1941H38.9223L39.6783 26.7041L38.4743 29.4761H36.6543ZM41.8623 21.5381L39.8883 26.2141L39.5243 25.7801H44.2283L43.9343 26.2141L41.9183 21.5381H41.8623ZM50.7819 29.6161C50.1659 29.6161 49.6199 29.4714 49.1439 29.1821C48.6773 28.8834 48.3133 28.4587 48.0519 27.9081C47.7906 27.3574 47.6599 26.6994 47.6599 25.9341C47.6599 25.1687 47.7906 24.5154 48.0519 23.9741C48.3133 23.4234 48.6773 23.0034 49.1439 22.7141C49.6199 22.4154 50.1659 22.2661 50.7819 22.2661C51.3699 22.2661 51.8879 22.4107 52.3359 22.7001C52.7933 22.9801 53.0966 23.3627 53.2459 23.8481H53.0639V19.1721H54.8139V29.4761H53.0919V27.9781H53.2599C53.1106 28.4821 52.8073 28.8834 52.3499 29.1821C51.9019 29.4714 51.3793 29.6161 50.7819 29.6161ZM51.2719 28.2721C51.8226 28.2721 52.2659 28.0807 52.6019 27.6981C52.9379 27.3061 53.1059 26.7181 53.1059 25.9341C53.1059 25.1501 52.9379 24.5667 52.6019 24.1841C52.2659 23.8014 51.8226 23.6101 51.2719 23.6101C50.7213 23.6101 50.2733 23.8014 49.9279 24.1841C49.5919 24.5667 49.4239 25.1501 49.4239 25.9341C49.4239 26.7181 49.5919 27.3061 49.9279 27.6981C50.2733 28.0807 50.7213 28.2721 51.2719 28.2721ZM56.7056 29.4761V24.2121C56.7056 23.9134 56.6962 23.6101 56.6776 23.3021C56.6682 22.9941 56.6449 22.6954 56.6076 22.4061H58.3016L58.4976 24.3381H58.2176C58.3109 23.8714 58.4649 23.4841 58.6796 23.1761C58.9036 22.8681 59.1742 22.6394 59.4916 22.4901C59.8089 22.3407 60.1542 22.2661 60.5276 22.2661C60.6956 22.2661 60.8309 22.2754 60.9336 22.2941C61.0362 22.3034 61.1389 22.3267 61.2416 22.3641L61.2276 23.9041C61.0502 23.8294 60.8962 23.7827 60.7656 23.7641C60.6442 23.7454 60.4902 23.7361 60.3036 23.7361C59.9022 23.7361 59.5616 23.8201 59.2816 23.9881C59.0109 24.1561 58.8056 24.3894 58.6656 24.6881C58.5349 24.9867 58.4696 25.3274 58.4696 25.7101V29.4761H56.7056ZM65.5223 29.6161C64.337 29.6161 63.4083 29.2894 62.7363 28.6361C62.0643 27.9827 61.7283 27.0867 61.7283 25.9481C61.7283 25.2107 61.873 24.5667 62.1623 24.0161C62.4516 23.4654 62.853 23.0361 63.3663 22.7281C63.889 22.4201 64.4956 22.2661 65.1863 22.2661C65.8676 22.2661 66.437 22.4107 66.8943 22.7001C67.3516 22.9894 67.697 23.3954 67.9303 23.9181C68.173 24.4407 68.2943 25.0521 68.2943 25.7521V26.2141H63.1423V25.2901H67.0483L66.8103 25.4861C66.8103 24.8327 66.6703 24.3334 66.3903 23.9881C66.1196 23.6427 65.723 23.4701 65.2003 23.4701C64.6216 23.4701 64.1736 23.6754 63.8563 24.0861C63.5483 24.4967 63.3943 25.0707 63.3943 25.8081V25.9901C63.3943 26.7554 63.581 27.3294 63.9543 27.7121C64.337 28.0854 64.8736 28.2721 65.5643 28.2721C65.9656 28.2721 66.339 28.2207 66.6843 28.1181C67.039 28.0061 67.375 27.8287 67.6923 27.5861L68.2103 28.7621C67.8743 29.0327 67.473 29.2427 67.0063 29.3921C66.5396 29.5414 66.045 29.6161 65.5223 29.6161ZM72.2962 29.6161C71.6896 29.6161 71.1296 29.5461 70.6162 29.4061C70.1122 29.2567 69.6876 29.0514 69.3422 28.7901L69.8322 27.6141C70.1869 27.8567 70.5789 28.0434 71.0082 28.1741C71.4376 28.3047 71.8716 28.3701 72.3102 28.3701C72.7769 28.3701 73.1222 28.2907 73.3462 28.1321C73.5796 27.9734 73.6962 27.7587 73.6962 27.4881C73.6962 27.2734 73.6216 27.1054 73.4722 26.9841C73.3322 26.8534 73.1036 26.7554 72.7862 26.6901L71.3862 26.4241C70.7889 26.2934 70.3316 26.0694 70.0142 25.7521C69.7062 25.4347 69.5522 25.0194 69.5522 24.5061C69.5522 24.0674 69.6689 23.6801 69.9022 23.3441C70.1449 23.0081 70.4856 22.7467 70.9242 22.5601C71.3722 22.3641 71.8949 22.2661 72.4922 22.2661C73.0149 22.2661 73.5049 22.3361 73.9622 22.4761C74.4289 22.6161 74.8209 22.8261 75.1382 23.1061L74.6342 24.2401C74.3449 24.0067 74.0136 23.8247 73.6402 23.6941C73.2669 23.5634 72.9029 23.4981 72.5482 23.4981C72.0629 23.4981 71.7082 23.5867 71.4842 23.7641C71.2602 23.9321 71.1482 24.1514 71.1482 24.4221C71.1482 24.6274 71.2136 24.8001 71.3442 24.9401C71.4842 25.0707 71.6989 25.1687 71.9882 25.2341L73.3882 25.5001C74.0136 25.6214 74.4849 25.8361 74.8022 26.1441C75.1289 26.4427 75.2922 26.8534 75.2922 27.3761C75.2922 27.8427 75.1662 28.2441 74.9142 28.5801C74.6622 28.9161 74.3122 29.1727 73.8642 29.3501C73.4162 29.5274 72.8936 29.6161 72.2962 29.6161ZM79.3099 29.6161C78.7032 29.6161 78.1432 29.5461 77.6299 29.4061C77.1259 29.2567 76.7012 29.0514 76.3559 28.7901L76.8459 27.6141C77.2006 27.8567 77.5926 28.0434 78.0219 28.1741C78.4512 28.3047 78.8852 28.3701 79.3239 28.3701C79.7906 28.3701 80.1359 28.2907 80.3599 28.1321C80.5932 27.9734 80.7099 27.7587 80.7099 27.4881C80.7099 27.2734 80.6352 27.1054 80.4859 26.9841C80.3459 26.8534 80.1172 26.7554 79.7999 26.6901L78.3999 26.4241C77.8026 26.2934 77.3452 26.0694 77.0279 25.7521C76.7199 25.4347 76.5659 25.0194 76.5659 24.5061C76.5659 24.0674 76.6826 23.6801 76.9159 23.3441C77.1586 23.0081 77.4992 22.7467 77.9379 22.5601C78.3859 22.3641 78.9086 22.2661 79.5059 22.2661C80.0286 22.2661 80.5186 22.3361 80.9759 22.4761C81.4426 22.6161 81.8346 22.8261 82.1519 23.1061L81.6479 24.2401C81.3586 24.0067 81.0272 23.8247 80.6539 23.6941C80.2806 23.5634 79.9166 23.4981 79.5619 23.4981C79.0766 23.4981 78.7219 23.5867 78.4979 23.7641C78.2739 23.9321 78.1619 24.1514 78.1619 24.4221C78.1619 24.6274 78.2272 24.8001 78.3579 24.9401C78.4979 25.0707 78.7126 25.1687 79.0019 25.2341L80.4019 25.5001C81.0272 25.6214 81.4986 25.8361 81.8159 26.1441C82.1426 26.4427 82.3059 26.8534 82.3059 27.3761C82.3059 27.8427 82.1799 28.2441 81.9279 28.5801C81.6759 28.9161 81.3259 29.1727 80.8779 29.3501C80.4299 29.5274 79.9072 29.6161 79.3099 29.6161ZM87.2196 29.6161C86.0342 29.6161 85.1056 29.2894 84.4336 28.6361C83.7616 27.9827 83.4256 27.0867 83.4256 25.9481C83.4256 25.2107 83.5702 24.5667 83.8596 24.0161C84.1489 23.4654 84.5502 23.0361 85.0636 22.7281C85.5862 22.4201 86.1929 22.2661 86.8836 22.2661C87.5649 22.2661 88.1342 22.4107 88.5916 22.7001C89.0489 22.9894 89.3942 23.3954 89.6276 23.9181C89.8702 24.4407 89.9916 25.0521 89.9916 25.7521V26.2141H84.8396V25.2901H88.7456L88.5076 25.4861C88.5076 24.8327 88.3676 24.3334 88.0876 23.9881C87.8169 23.6427 87.4202 23.4701 86.8976 23.4701C86.3189 23.4701 85.8709 23.6754 85.5536 24.0861C85.2456 24.4967 85.0916 25.0707 85.0916 25.8081V25.9901C85.0916 26.7554 85.2782 27.3294 85.6516 27.7121C86.0342 28.0854 86.5709 28.2721 87.2616 28.2721C87.6629 28.2721 88.0362 28.2207 88.3816 28.1181C88.7362 28.0061 89.0722 27.8287 89.3896 27.5861L89.9076 28.7621C89.5716 29.0327 89.1702 29.2427 88.7036 29.3921C88.2369 29.5414 87.7422 29.6161 87.2196 29.6161Z" fill="#787878"/>
                <defs>
                <filter id="filter0_d_2903_8093" x="0" y="0" width="128" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2903_8093"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2903_8093" result="shape"/>
                </filter>
                </defs>
                </svg>
            
            
            </a><a class="arianeItem">
                <svg width="128" height="58" viewBox="0 0 128 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_2903_8099)">
                <path d="M106.358 0H4L19.2459 24.6528L4 50H106.358L124 24.6528L106.358 0Z" fill="#FCB66B"/>
                </g>
                <path d="M32.5959 29.4761V19.6061H36.9779C38.0606 19.6061 38.8866 19.8674 39.4559 20.3901C40.0252 20.9127 40.3099 21.6314 40.3099 22.5461C40.3099 23.4514 40.0252 24.1701 39.4559 24.7021C38.8866 25.2341 38.0606 25.5001 36.9779 25.5001H34.4019V29.4761H32.5959ZM34.4019 24.0721H36.7679C37.3652 24.0721 37.8132 23.9414 38.1119 23.6801C38.4106 23.4094 38.5599 23.0314 38.5599 22.5461C38.5599 22.0607 38.4106 21.6874 38.1119 21.4261C37.8132 21.1554 37.3652 21.0201 36.7679 21.0201H34.4019V24.0721ZM44.182 29.6161C43.566 29.6161 43.0247 29.4714 42.558 29.1821C42.0913 28.8834 41.7273 28.4587 41.466 27.9081C41.2047 27.3574 41.074 26.6994 41.074 25.9341C41.074 25.1687 41.2047 24.5154 41.466 23.9741C41.7273 23.4234 42.0913 23.0034 42.558 22.7141C43.0247 22.4154 43.566 22.2661 44.182 22.2661C44.7793 22.2661 45.302 22.4154 45.75 22.7141C46.2073 23.0034 46.5107 23.3954 46.66 23.8901H46.506L46.66 22.4061H48.34C48.312 22.6954 48.284 22.9894 48.256 23.2881C48.2373 23.5867 48.228 23.8807 48.228 24.1701V29.4761H46.492L46.478 28.0201H46.646C46.4967 28.5054 46.1933 28.8927 45.736 29.1821C45.2787 29.4714 44.7607 29.6161 44.182 29.6161ZM44.672 28.2721C45.2227 28.2721 45.666 28.0807 46.002 27.6981C46.338 27.3061 46.506 26.7181 46.506 25.9341C46.506 25.1501 46.338 24.5667 46.002 24.1841C45.666 23.8014 45.2227 23.6101 44.672 23.6101C44.1213 23.6101 43.678 23.8014 43.342 24.1841C43.006 24.5667 42.838 25.1501 42.838 25.9341C42.838 26.7181 43.0013 27.3061 43.328 27.6981C43.664 28.0807 44.112 28.2721 44.672 28.2721ZM50.1336 29.4761V22.4061H51.8836V29.4761H50.1336ZM50.0356 21.0761V19.3681H51.9816V21.0761H50.0356ZM57.2 29.6161C56.0147 29.6161 55.086 29.2894 54.414 28.6361C53.742 27.9827 53.406 27.0867 53.406 25.9481C53.406 25.2107 53.5507 24.5667 53.84 24.0161C54.1294 23.4654 54.5307 23.0361 55.044 22.7281C55.5667 22.4201 56.1734 22.2661 56.864 22.2661C57.5454 22.2661 58.1147 22.4107 58.572 22.7001C59.0294 22.9894 59.3747 23.3954 59.608 23.9181C59.8507 24.4407 59.972 25.0521 59.972 25.7521V26.2141H54.82V25.2901H58.726L58.488 25.4861C58.488 24.8327 58.348 24.3334 58.068 23.9881C57.7974 23.6427 57.4007 23.4701 56.878 23.4701C56.2994 23.4701 55.8514 23.6754 55.534 24.0861C55.226 24.4967 55.072 25.0707 55.072 25.8081V25.9901C55.072 26.7554 55.2587 27.3294 55.632 27.7121C56.0147 28.0854 56.5514 28.2721 57.242 28.2721C57.6434 28.2721 58.0167 28.2207 58.362 28.1181C58.7167 28.0061 59.0527 27.8287 59.37 27.5861L59.888 28.7621C59.552 29.0327 59.1507 29.2427 58.684 29.3921C58.2174 29.5414 57.7227 29.6161 57.2 29.6161ZM61.454 29.4761V24.1701C61.454 23.8807 61.4446 23.5867 61.426 23.2881C61.4073 22.9894 61.3793 22.6954 61.342 22.4061H63.036L63.176 23.8061H63.008C63.204 23.3207 63.5026 22.9427 63.904 22.6721C64.3146 22.4014 64.8 22.2661 65.36 22.2661C65.92 22.2661 66.382 22.4014 66.746 22.6721C67.1193 22.9334 67.3806 23.3441 67.53 23.9041H67.306C67.502 23.4001 67.824 23.0034 68.272 22.7141C68.72 22.4154 69.2333 22.2661 69.812 22.2661C70.6053 22.2661 71.198 22.4994 71.59 22.9661C71.982 23.4327 72.178 24.1607 72.178 25.1501V29.4761H70.428V25.2201C70.428 24.6601 70.3346 24.2587 70.148 24.0161C69.9613 23.7641 69.6626 23.6381 69.252 23.6381C68.7666 23.6381 68.384 23.8107 68.104 24.1561C67.824 24.4921 67.684 24.9494 67.684 25.5281V29.4761H65.934V25.2201C65.934 24.6601 65.8406 24.2587 65.654 24.0161C65.4673 23.7641 65.1686 23.6381 64.758 23.6381C64.2726 23.6381 63.89 23.8107 63.61 24.1561C63.3393 24.4921 63.204 24.9494 63.204 25.5281V29.4761H61.454ZM77.4618 29.6161C76.2764 29.6161 75.3478 29.2894 74.6758 28.6361C74.0038 27.9827 73.6678 27.0867 73.6678 25.9481C73.6678 25.2107 73.8124 24.5667 74.1018 24.0161C74.3911 23.4654 74.7924 23.0361 75.3058 22.7281C75.8284 22.4201 76.4351 22.2661 77.1258 22.2661C77.8071 22.2661 78.3764 22.4107 78.8338 22.7001C79.2911 22.9894 79.6364 23.3954 79.8698 23.9181C80.1124 24.4407 80.2338 25.0521 80.2338 25.7521V26.2141H75.0818V25.2901H78.9878L78.7498 25.4861C78.7498 24.8327 78.6098 24.3334 78.3298 23.9881C78.0591 23.6427 77.6624 23.4701 77.1398 23.4701C76.5611 23.4701 76.1131 23.6754 75.7958 24.0861C75.4878 24.4967 75.3338 25.0707 75.3338 25.8081V25.9901C75.3338 26.7554 75.5204 27.3294 75.8938 27.7121C76.2764 28.0854 76.8131 28.2721 77.5038 28.2721C77.9051 28.2721 78.2784 28.2207 78.6238 28.1181C78.9784 28.0061 79.3144 27.8287 79.6318 27.5861L80.1498 28.7621C79.8138 29.0327 79.4124 29.2427 78.9458 29.3921C78.4791 29.5414 77.9844 29.6161 77.4618 29.6161ZM81.7157 29.4761V24.1701C81.7157 23.8807 81.7063 23.5867 81.6877 23.2881C81.669 22.9894 81.641 22.6954 81.6037 22.4061H83.2977L83.4377 23.8061H83.2697C83.4937 23.3114 83.825 22.9334 84.2637 22.6721C84.7023 22.4014 85.211 22.2661 85.7897 22.2661C86.6203 22.2661 87.2457 22.4994 87.6657 22.9661C88.0857 23.4327 88.2957 24.1607 88.2957 25.1501V29.4761H86.5457V25.2341C86.5457 24.6647 86.4337 24.2587 86.2097 24.0161C85.995 23.7641 85.6683 23.6381 85.2297 23.6381C84.6883 23.6381 84.259 23.8061 83.9417 24.1421C83.6243 24.4781 83.4657 24.9261 83.4657 25.4861V29.4761H81.7157ZM93.1752 29.6161C92.3352 29.6161 91.7006 29.3967 91.2712 28.9581C90.8419 28.5194 90.6272 27.8614 90.6272 26.9841V23.7221H89.2692V22.4061H90.6272V20.6001L92.3772 20.1521V22.4061H94.2672V23.7221H92.3772V26.8721C92.3772 27.3574 92.4706 27.6981 92.6572 27.8941C92.8439 28.0901 93.1006 28.1881 93.4272 28.1881C93.6046 28.1881 93.7539 28.1741 93.8752 28.1461C94.0059 28.1181 94.1319 28.0807 94.2532 28.0341V29.4201C94.0946 29.4854 93.9172 29.5321 93.7212 29.5601C93.5346 29.5974 93.3526 29.6161 93.1752 29.6161Z" fill="#064082"/>
                <defs>
                <filter id="filter0_d_2903_8099" x="0" y="0" width="128" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2903_8099"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2903_8099" result="shape"/>
                </filter>
                </defs>
                </svg>
            </a>

        </div>

        <div class="asideSec">
        <?php
            //include 'includes/menu_cat.php';
            //include 'includes/menuCompte.php';
        ?>
        <aside>
            <section id="secRecap">
                <?php 
            
                $nbProd = ($bdd->query("SELECT ALL SUM(qteProd) somme from alizon.ProdUnitPanier where idPanier = '".$idPanier."'")->fetch())["somme"];
                ?>
                <h2>Récapitulatif ( <?php echo number_format((int)$nbProd, 0, '.', '')?> articles ) </h2>
                <article id="recapitulatif">
            
                        <?php 
                        $i = 1;
            
                        $produits = $bdd->query("SELECT ALL * FROM alizon.ProdUnitPanier WHERE idPanier = '".$idPanier."'")->fetchAll();
                        
                        foreach($produits as $prodUnit){
                            ?><div class="libelleProdRecap"><?php
                            $detailProd = $bdd->query("SELECT * FROM alizon.Produit WHERE codeProduit = '".$prodUnit["codeproduit"]."'")->fetch();
                            echo "<p>Article ".$i." (".$detailProd["libelleprod"]. ") : ( x ". number_format((int)$prodUnit["qteprod"], 0, '.', '')." )</p><p class=\"prixAffiche\">".number_format((float)$prodUnit["prixhttotal"], 2, '.', '')."€</p>";
                            ?><div><button id="poubelle" onclick="supprimerProd(<?php echo $idPanier ?> , <?php echo $prodUnit['codeproduit']?>)"><img src="img/Icon_poubelle.svg" alt="poubelle" title="poubelle"/></button></div><?php

                            $i++;
                            ?></div><?php
                        }
                        ?>      
                        
                        <!--<p>Prix HT : <?php echo $panier["prixhttotal"]?>€</p>!-->
                        <div class="libelleProdRecap">
                        <h4>Sous-total (HT) : </h4><h4 class="prixAffiche"><?php echo number_format((float)$panier["prixhttotal"], 2, '.', '') ?>€</h4>
                        </div>
                        <p id="prixTTCRecap">Total (TTC) : <?php echo $panier["prixttctotal"]?>€</p>
            
            
                </article>
            </section>
        </aside>
    

    <section>
         <h2>Informations de paiement</h2>
         <h4 id="BanqueInvalide" style="color:red" hidden>Veuillez remplir tous les champs</h4>
         <article id="infosPaiement">
                 <form action="enregPaiement.php" method="post" id="formulaireBanque">
                     <label for="nomTitulaireCB">Nom + Prénom figurant sur la carte *</label>
                     <input type="text" name="nomTitulaireCB" id="nomTitulaireCB" placeholder="ex: DUPONT Jean" pattern="\w{3,}\s\w{3,}" required/>
                     <span>Format invalide (ex: DUPONT Jean)</span>
                     <label for="numCB">Numéro de carte *</label>
                     <input type="text" name="numCB" id="numCB" required/>
                     <span>Numéro de carte invalide</span>
                     <div class="dateCVC">
                         <div class="labelInput">
                             <label for="expDate">Date d'expiration *</label>
                             <span>Date d'expiration impossible</span>
                             <input type="text" name="expDate" id="expDate" pattern="\d{2}/\d{2}"required/>
                         </div>
                         <div class="labelInput">
                             <label for="cvc">Cryptogramme visuel *</label>
                             <input type="text" name="cvc" id="cvc" pattern="\d{3}" required/>
                            <span>Le cryptogramme visuel doit être composé d'exactement 3 chiffres</span>
                         </div>
                     </div>
                     <div class="checkboxCGV">
                        <input type="checkbox" name="accepter" id="cgv" required/>
                        <label for="cgv">J'ai lu et accepté les <a href="CGV.php">Conditions Générales de Vente (CGV)</a></label>
                    </div>
                </form>
                <div>
                    <button class="bouton" id="btnAnnuler" onclick="annuler()">Annuler</button>
                    <button type="submit" class="btnJaune" id="btnPayer" onclick="payer()">Payer</button>
                </div>
            </article>

     </section>
    </div>
    </main>
    <script>
        let champCarte = document.getElementById("numCB");
        let champDate = document.getElementById("expDate");
        let btnPayer = document.getElementById("btnPayer");
        let divConfirmer = document.getElementById("confirmation");
        let formulairePaiement = document.getElementById("formulaireBanque");
        champCarte.addEventListener("keyup", formaterCarte);
        champCarte.addEventListener("focusout", luhn);
        champDate.addEventListener("keydown", formaterDate);
        champDate.addEventListener("focusout", verifDate);
        function luhn(){
            let formatCb = /^((\d{4})\s){3}\d{4}$/;
            let numCb = champCarte.value;
            if(!formatCb.test(numCb)){
                champCarte.classList.add("invalid");
                btnPayer.setAttribute("disabled", 0);
                console.log("non");                
            }
            else{

                let step2 = [];
                let num1 = 0;
                let step3 = 0;
                for(let i = numCb.length ; i > 0 ; i -=2){
                    let nombre = numCb.charAt(i);
                    if(nombre == " "){
                        nombre = numCb.charAt(i - 1);
                }
                step3 += nombre;
                if(nombre * 2 >= 10){
                    nombre = nombre * 2 - 10;
                }
                else{
                    nombre = nombre * 2;
                }
                step2.push(nombre);
            }
            step2.forEach((num) => num1 += num)
            if((num1 + step3) % 10){
                champCarte.classList.remove("invalid");
                btnPayer.removeAttribute("disabled");
                console.log("oui");
            }
            else{
                champCarte.classList.add("invalid");
                btnPayer.setAttribute("disabled", 0);
                console.log("non");
            }
        }
    }
    function verifDate(){
        let date = champDate.value;
        let mois = date.substr(0,2);
        let annee = date.substr(3,2); 
        let anneeNow = (new Date().getFullYear()).toString().substr(2,2);
        let res = true;
        let moisNow = new Date().getMonth() + 1;
        if((mois <= 12 && mois > 0) && ((annee <= parseInt(anneeNow) + 10) && (annee >= anneeNow))){
            if(mois <= moisNow && annee == anneeNow){
                res = false;
            }
            else{
                res = true;
            }
        }
        else{
            res = false;
        }
        if(!res){
            champDate.classList.add("invalid");
            btnPayer.setAttribute("disabled", 0);
        }
        else{
            champDate.classList.remove("invalid");
            btnPayer.removeAttribute("disabled");
        }
        
    }
    function formaterCarte(){
            let numCb = champCarte.value;
            if(numCb.length == 4 || numCb.length == 9 || numCb.length == 14 &&  numCb.length != 0){
                console.log(numCb.length);
                champCarte.value = numCb + " ";
            } 
    }
    function formaterDate(){
        let date = champDate.value;
        if(date.length == 2){
            champDate.value = date + "/";
        }
    }
    function payer(){
        divConfirmer.style = "display:flex";
    }
    function annulerConf(){
        divConfirmer.style = "display:none";
    }
    function confirmer(){
        divConfirmer.style = "display:none";
        let valide = true;
        for(let i = 0 ; i < 4 ; i++){
            if (document.querySelectorAll("input")[i].classList.contains("invalid")){
                divConfirmer.style = "display:none";
                valide = false;
            }

        }
        if(valide){

            formulaireBanque.submit();
        }

    }
    </script>
     <?php include("./includes/footer.php")?>
    
</body>
</html>
               